% Better horizontal rules
%\usepackage{booktabs}

%\usepackage[toc,page]{appendix}
%\usepackage{fourier-orns}
\usepackage{listings}
%\usepackage{multicol}
%\usepackage{stmaryrd}
%\usepackage{mathpartir}
%\usepackage{tikz}

% Override Scribble's default SecRef to numeric only
\renewcommand{\SecRef}[2]{#1}
\renewcommand{\vee}{\mbox{or}}

%\hypersetup{hidelinks}

% For bib style
\newcommand{\Thyperref}[2]{\hyperref[#2]{#1}}

%% To show overfull, turn off for production!!!
\overfullrule=1mm

%% balance last page columns
%\usepackage{flushend}

\let\captionwidth\relax

%\let\ulcorner\relax
%\let\urcorner\relax
%\let\llcorner\relax
%\let\lrcorner\relax
%\usepackage{amssymb}

%\newcommand{\specl}{l^\#}
%\pagestyle{plain}

%% =============================================================================

\newcommand{\subt}{\mathrel{<:}}
\newcommand{\subteq}{\mathrel{\leqslant:}}
\newcommand{\bm}[1]{\vspace{1ex}\noindent\textbf{\textit{#1: }}}

%\newcolumntype{$}{>{\global\let\currentrowstyle\relax}}
%\newcolumntype{@}{>{\currentrowstyle}}
%\newcommand{\rowstyle}[1]{\gdef\currentrowstyle{#1}%
%  #1\ignorespaces
%}


% Default fixed font does not support bold face
\DeclareFixedFont{\ttb}{T1}{txtt}{bx}{n}{9} % for bold
\DeclareFixedFont{\ttm}{T1}{txtt}{m}{n}{9}  % for normal

% Custom colors
\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}


% Python style for highlighting
\newcommand\pythonstyle{\lstset{
language=Python,
basicstyle=\ttm,
otherkeywords={self},             % Add keywords here
keywordstyle=\ttb\color{deepblue},
emph={MyClass,__init__},          % Custom highlighting
emphstyle=\ttb\color{deepred},    % Custom highlighting style
stringstyle=\color{deepgreen},
frame=tb,                         % Any extra options here
showstringspaces=false            % 
}}

% Python environment
\lstnewenvironment{python}[1][]
{
\pythonstyle
\lstset{#1}
}
{}

% Python for external files
\newcommand\pythonexternal[2][]{{
\pythonstyle
\lstinputlisting[#1]{#2}}}

% Python for inline
\newcommand\pythoninline[1]{{\pythonstyle\lstinline!#1!}}

%% -----------------------------------------------------------------------------
\begin{abstract}
  Gradual typing promises to combine the benefits of dynamic and static typing
  disciplines in a single language, giving developers freedom to use type
  information only where it proves useful for catching bugs, documenting
  interfaces, or enabling optimizations.  Reticulated Python is one such
  \emph{gradually typed} language; it gives Python programmers the ability to
  incrementally add sound, optional type annotations to critical parts of their
  programs.  Reticulated preserves type soundness by adding dynamic type tests
  to a program.  These tests can arbitrarily degrade the performance of
  programs, but their effect on partially-typed variations of realistic
  programs is unknown.

  This paper studies the overhead of gradual typing in Reticulated Python.  We
  examine TODO programs taken from a variety of areas including
  Python libraries, implementations of common algorithms, and games.  For each
  program we systematically measure all partially-typed \emph{configurations}
  obtained by assigning full type signatures to a subset of functions in the
  program.  For a program with $n$ functions we obtain  ${2^n}$ configurations.
  We additionally sample random configurations in which any subset of class
  fields, function parameters, or function return types may be typed.  Finally
  we attempt to explain which functions or types are responsible for the
  greatest overhead and generalize common patterns.
\end{abstract}
